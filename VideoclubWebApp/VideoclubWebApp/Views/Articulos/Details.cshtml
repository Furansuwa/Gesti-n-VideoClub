@model VideoclubWebApp.Models.Articulos.Articulo

@{
    ViewData["Title"] = "Detalles del Artículo";
    var tipoArticulo = ViewBag.TipoArticulo as VideoClubWebApp.Models.TipoArticulo;
    var genero = ViewBag.Genero as VideoClubWebApp.Models.Genero;
    var idioma = ViewBag.Idioma as VideoClubWebApp.Models.Idioma;
}

<h1>Detalles del Artículo</h1>
<hr />

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h4>@Model.Titulo</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">ID:</dt>
                    <dd class="col-sm-9">@Model.Id</dd>

                    <dt class="col-sm-3">Tipo de Artículo:</dt>
                    <dd class="col-sm-9">@tipoArticulo?.Descripcion</dd>

                    <dt class="col-sm-3">Género:</dt>
                    <dd class="col-sm-9">@genero?.Descripcion</dd>

                    <dt class="col-sm-3">Idioma:</dt>
                    <dd class="col-sm-9">@idioma?.Descripcion</dd>

                    <dt class="col-sm-3">Renta por Día:</dt>
                    <dd class="col-sm-9">$@Model.RentaPorDia.ToString("N2")</dd>

                    <dt class="col-sm-3">Días de Renta:</dt>
                    <dd class="col-sm-9">@Model.DiasRenta día(s)</dd>

                    <dt class="col-sm-3">Monto Entrega Tardía:</dt>
                    <dd class="col-sm-9">$@Model.MontoEntregaTardia.ToString("N2") por día</dd>

                    <dt class="col-sm-3">Estado:</dt>
                    <dd class="col-sm-9">
                        @if (Model.Estado == "Disponible")
                        {
                            <span class="badge bg-success">@Model.Estado</span>
                        }
                        else if (Model.Estado == "Rentado")
                        {
                            <span class="badge bg-warning">@Model.Estado</span>
                        }
                        else
                        {
                            <span class="badge bg-secondary">@Model.Estado</span>
                        }
                    </dd>
                </dl>

                @if (Model.ElencoArticulos != null && Model.ElencoArticulos.Any())
                {
                    <hr />
                    <h5>Elenco:</h5>
                    <table class="table table-sm">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Rol</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var ea in Model.ElencoArticulos)
                            {
                                <tr>
                                    <td>@ea.Elenco.Nombre</td>
                                    <td>@ea.Rol</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
            </div>
        </div>

        <div class="mt-3">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">
                <i class="bi bi-pencil"></i> Editar
            </a>
            <a asp-action="Index" class="btn btn-secondary">
                <i class="bi bi-arrow-left"></i> Volver a la Lista
            </a>
        </div>
    </div>
</div>